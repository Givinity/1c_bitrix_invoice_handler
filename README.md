# Invoice Handler for Bitrix CMS

## Описание

Этот обработчик платежной системы для 1С-Битрикс генерирует PDF-счет на оплату для заказов. После создания платежа система автоматически формирует счет в формате PDF, который пользователь может скачать.

## Основные возможности

- Генерация PDF-счета с данными о заказе
- Настройка банковских реквизитов компании
- Настройка информации о компании
- Возможность добавления логотипа
- Настройка срока действия счета
- Поддержка мультивалютности

## Установка

1. Скопируйте папку с обработчиком в директорию `/bitrix/php_interface/include/sale_payment/`
2. В административной части Битрикс перейдите в раздел "Магазин" → "Настройки" → "Платежные системы"
3. Добавьте новую платежную систему и выберите тип "Invoice Handler"
4. Настройте параметры обработчика согласно требованиям вашей компании

## Настройки

Обработчик предоставляет следующие настройки:

### Банковские реквизиты
- Название банка
- БИК банка
- Номер счета
- КБЕ
- Код банка
- Код назначения платежа

### Данные компании
- Название компании
- ИНН компании
- Адрес компании
- Телефон компании
- Менеджер компании

### Общие настройки
- Срок действия счета (в днях)
- Свойство товара для артикула
- Логотип компании
- Отображение логотипа

## Использование

После настройки обработчика:
1. При оформлении заказа клиент сможет выбрать оплату по счету
2. После создания заказа система сгенерирует PDF-счет
3. Клиенту будет предоставлена ссылка для скачивания счета P.S. обработчик передаёт в буфер html кусок

## Требования

- Установленный модуль "Интернет-магазин" в Битрикс
- Библиотека mPDF для генерации PDF (включена в обработчик)
- PHP версии 7.4 или выше
